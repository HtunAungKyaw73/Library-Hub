module.exports=[59947,(a,b,c)=>{"use strict";b.exports=a.r(75411).vendored["react-ssr"].ReactDOM},61237,a=>{"use strict";var b=a.i(89982);let c=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let e=(0,b.forwardRef)(({color:a="currentColor",size:e=24,strokeWidth:f=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,b.createElement)("svg",{ref:l,...d,width:e,height:e,stroke:a,strokeWidth:g?24*Number(f)/Number(e):f,className:c("lucide",h),...k},[...j.map(([a,c])=>(0,b.createElement)(a,c)),...Array.isArray(i)?i:[i]])),f=(a,d)=>{let f=(0,b.forwardRef)(({className:f,...g},h)=>(0,b.createElement)(e,{ref:h,iconNode:d,className:c(`lucide-${a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,f),...g}));return f.displayName=`${a}`,f};a.s(["default",()=>f],61237)},22725,a=>{"use strict";var b=a.i(39498);let c=b.useDispatch,d=b.useSelector;b.useStore,a.s(["useAppDispatch",0,c,"useAppSelector",0,d])},4478,a=>{"use strict";var b=a.i(64781),c=a.i(89982),d=a.i(79694),e=a.i(87636),f=a.i(40695);let g=(0,a.i(61237).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var h=a.i(30505),i=a.i(420),j=a.i(22725);function k({books:a}){let e=(0,j.useAppDispatch)();(0,c.useEffect)(()=>{a.length>0&&e(i.baserowApi.util.upsertQueryData("getBooks",void 0,a))},[e,a]);let{data:k}=(0,i.useGetBooksQuery)(void 0,{refetchOnMountOrArgChange:!1}),l=k||a,m=(0,c.useRef)(null),[n,o]=(0,c.useState)(""),p=(0,c.useMemo)(()=>[{field:"title",headerName:"Title",flex:2,minWidth:200,filter:"agTextColumnFilter",sortable:!0,cellClass:"font-medium text-foreground"},{field:"author_name",headerName:"Author",flex:1.5,minWidth:150,filter:"agTextColumnFilter",sortable:!0,valueGetter:a=>a.data?.author_name||"Unknown"},{field:"published_year",headerName:"Year",width:100,filter:"agNumberColumnFilter",sortable:!0,valueFormatter:a=>a.value||"N/A"},{field:"publisher_name",headerName:"Publisher",flex:1.5,minWidth:150,filter:"agTextColumnFilter",sortable:!0,valueFormatter:a=>a.value||"N/A"},{field:"place_of_publication",headerName:"Place",width:140,filter:"agTextColumnFilter",sortable:!0,valueFormatter:a=>a.value||"N/A"},{field:"class_number",headerName:"Class #",width:120,filter:"agTextColumnFilter",sortable:!0,valueFormatter:a=>a.value||"N/A"},{headerName:"Actions",width:100,sortable:!1,filter:!1,cellRenderer:a=>{let c=a.data?.id;return(0,b.jsx)("div",{className:"flex items-center gap-2 h-full",children:(0,b.jsx)(h.default,{href:`/books/${c}`,children:(0,b.jsxs)(f.Button,{variant:"ghost",size:"sm",className:"h-8 px-2",children:[(0,b.jsx)(g,{className:"h-4 w-4 mr-1"}),"View"]})})})},pinned:"right"}],[]),q=(0,c.useMemo)(()=>({resizable:!0,filterParams:{buttons:["reset","apply"]}}),[]),r=(0,c.useCallback)(a=>{a.api.sizeColumnsToFit()},[]),s=(0,c.useCallback)(a=>{o(a.target.value)},[]),t=(0,c.useCallback)(()=>{m.current?.api.exportDataAsCsv({fileName:"library-books.csv"})},[]);return(0,b.jsxs)("div",{className:"mt-8 space-y-4",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[(0,b.jsx)("div",{className:"flex items-center gap-2",children:(0,b.jsx)("input",{type:"text",placeholder:"Quick search all columns...",value:n,onChange:s,className:"h-9 px-3 rounded-md border border-input bg-background text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 w-64"})}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(f.Button,{variant:"outline",size:"sm",onClick:t,children:"Export CSV"}),(0,b.jsxs)("span",{className:"text-sm text-muted-foreground",children:[l.length," ",1===l.length?"book":"books"]})]})]}),(0,b.jsx)("div",{className:"ag-theme-custom rounded-lg border border-border overflow-hidden",style:{height:600,width:"100%"},children:(0,b.jsx)(d.AgGridReact,{ref:m,rowData:l,columnDefs:p,defaultColDef:q,onGridReady:r,quickFilterText:n,pagination:!0,paginationPageSize:20,paginationPageSizeSelector:[10,20,50,100],animateRows:!0,rowSelection:"multiple",domLayout:"normal",enableCellTextSelection:!0,rowHeight:48,headerHeight:48})})]})}e.ModuleRegistry.registerModules([e.AllCommunityModule]),a.s(["BookAgGrid",()=>k],4478)}];

//# sourceMappingURL=_256cf234._.js.map