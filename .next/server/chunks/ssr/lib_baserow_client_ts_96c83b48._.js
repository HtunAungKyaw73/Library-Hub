module.exports=[32406,a=>{"use strict";var b=a.i(47921);let c="772570",d="772601",e="772607";async function f(a,b={}){let c=`https://api.baserow.io${a}`,d=await fetch(c,{...b,headers:{Authorization:"Token 4z2b3p6kYWxiDbSdAcKGkb1iQzSo7G5z","Content-Type":"application/json",...b.headers}});if(!d.ok){let a=await d.text();throw Error(`Baserow API error: ${d.status} - ${a}`)}return d.json()}async function g(){return(await f(`/api/database/rows/table/${c}/?user_field_names=true&size=200`,{next:{revalidate:60,tags:["books"]}})).results.map(b.mapBaserowBookToBook)}async function h(a){try{let d=await f(`/api/database/rows/table/${c}/${a}/?user_field_names=true`);return(0,b.mapBaserowBookToBook)(d)}catch{return null}}async function i(){return(await f("/api/database/rows/table/772588/?user_field_names=true")).results}async function j(a){try{return(await f(`/api/database/rows/table/${d}/?user_field_names=true&filter__email__equal=${encodeURIComponent(a)}`)).results[0]||null}catch{return null}}async function k(a){try{return await f(`/api/database/rows/table/${d}/${a}/?user_field_names=true`)}catch{return null}}async function l(a){try{return(await f(`/api/database/rows/table/${e}/?user_field_names=true&filter__User__link_row_has=${a}`)).results.map(b.mapBaserowBorrowedBook)}catch{return[]}}async function m(a){try{return await f(`/api/database/rows/table/${e}/?user_field_names=true`,{method:"POST",body:JSON.stringify({Book:[parseInt(a.bookId)],User:[parseInt(a.userId)],Borrowed_At:new Date().toISOString(),Due_Date:a.dueDate,Status:"borrowed"})})}catch{return null}}async function n(a,b){try{return await f(`/api/database/rows/table/${e}/${a}/?user_field_names=true`,{method:"PATCH",body:JSON.stringify(b)})}catch{return null}}async function o(a,b){try{return await f(`/api/database/rows/table/${c}/${a}/?user_field_names=true`,{method:"PATCH",body:JSON.stringify({Available_Copies:b})})}catch{return null}}async function p(a){try{return await f(`/api/database/rows/table/${d}/?user_field_names=true`,{method:"POST",body:JSON.stringify({email:a.email,password:a.password,username:a.fullName||null,is_admin:!1})})}catch{return null}}a.s(["createBorrowRecord",()=>m,"createUser",()=>p,"getAuthors",()=>i,"getBook",()=>h,"getBooks",()=>g,"getBorrowedBooks",()=>l,"getUserByEmail",()=>j,"getUserById",()=>k,"updateBookCopies",()=>o,"updateBorrowRecord",()=>n])}];

//# sourceMappingURL=lib_baserow_client_ts_96c83b48._.js.map