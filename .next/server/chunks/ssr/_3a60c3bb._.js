module.exports=[59947,(a,b,c)=>{"use strict";b.exports=a.r(75411).vendored["react-ssr"].ReactDOM},61237,a=>{"use strict";var b=a.i(89982);let c=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let e=(0,b.forwardRef)(({color:a="currentColor",size:e=24,strokeWidth:f=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,b.createElement)("svg",{ref:l,...d,width:e,height:e,stroke:a,strokeWidth:g?24*Number(f)/Number(e):f,className:c("lucide",h),...k},[...j.map(([a,c])=>(0,b.createElement)(a,c)),...Array.isArray(i)?i:[i]])),f=(a,d)=>{let f=(0,b.forwardRef)(({className:f,...g},h)=>(0,b.createElement)(e,{ref:h,iconNode:d,className:c(`lucide-${a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,f),...g}));return f.displayName=`${a}`,f};a.s(["default",()=>f],61237)},5522,a=>{"use strict";var b=a.i(64781),c=a.i(97895);function d({className:a,type:d,...e}){return(0,b.jsx)("input",{type:d,"data-slot":"input",className:(0,c.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...e})}a.s(["Input",()=>d])},1530,a=>{"use strict";var b=a.i(64781),c=a.i(89982),d=a.i(79694),e=a.i(87636),f=a.i(5522),g=a.i(40695),h=a.i(61237);let i=(0,h.default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),j=(0,h.default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);function k({borrowedBooks:a}){let[h,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(null),n=(0,c.useMemo)(()=>[{headerName:"User",field:"user_profile",valueGetter:a=>{let b=a.data?.user_profile;return b?.full_name||b?.email||"Unknown"},filter:"agTextColumnFilter",flex:1.5,minWidth:150},{headerName:"Email",field:"user_profile.email",valueGetter:a=>a.data?.user_profile?.email||"N/A",filter:"agTextColumnFilter",flex:1.5,minWidth:180},{headerName:"Book Title",field:"book.title",valueGetter:a=>a.data?.book?.title||"Unknown",filter:"agTextColumnFilter",flex:2,minWidth:200},{headerName:"Author",field:"book.author",valueGetter:a=>a.data?.book?.author?.name||"Unknown",filter:"agTextColumnFilter",flex:1.5,minWidth:150},{headerName:"Genre",field:"book.genre",valueGetter:a=>a.data?.book?.genre||"N/A",filter:"agTextColumnFilter",flex:1,minWidth:100},{headerName:"Status",field:"status",filter:"agTextColumnFilter",flex:1,minWidth:100,cellRenderer:a=>{if("borrowed"===a.value){let b=new Date(a.data?.due_date)<new Date;return`<span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${b?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-200"}">${b?"Overdue":"Borrowed"}</span>`}return'<span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-200">Returned</span>'}},{headerName:"Borrowed Date",field:"borrowed_at",filter:"agDateColumnFilter",flex:1,minWidth:120,valueFormatter:a=>a.value?new Date(a.value).toLocaleDateString():"N/A",sort:"desc"},{headerName:"Due Date",field:"due_date",filter:"agDateColumnFilter",flex:1,minWidth:120,valueFormatter:a=>a.value?new Date(a.value).toLocaleDateString():"N/A"},{headerName:"Returned Date",field:"returned_at",filter:"agDateColumnFilter",flex:1,minWidth:120,valueFormatter:a=>a.value?new Date(a.value).toLocaleDateString():"-"}],[]),o=(0,c.useMemo)(()=>({sortable:!0,resizable:!0}),[]),p=(0,c.useCallback)(a=>{m(a.api)},[]),q=(0,c.useCallback)(()=>{l&&l.exportDataAsCsv({fileName:`borrow-records-${new Date().toISOString().split("T")[0]}.csv`})},[l]),r=e.themeQuartz.withParams({backgroundColor:"var(--card)",foregroundColor:"var(--card-foreground)",headerBackgroundColor:"var(--muted)",headerTextColor:"var(--muted-foreground)",oddRowBackgroundColor:"var(--card)",rowHoverColor:"var(--accent)",borderColor:"var(--border)",fontFamily:"var(--font-sans)",headerFontWeight:600,rowBorder:!0,wrapperBorder:!0,wrapperBorderRadius:"0.5rem"});return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[(0,b.jsxs)("div",{className:"relative w-full sm:w-80",children:[(0,b.jsx)(i,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(f.Input,{placeholder:"Search records...",value:h,onChange:a=>k(a.target.value),className:"pl-9"})]}),(0,b.jsxs)(g.Button,{variant:"outline",size:"sm",onClick:q,children:[(0,b.jsx)(j,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]}),(0,b.jsx)("div",{className:"h-[600px] w-full",children:(0,b.jsx)(d.AgGridReact,{theme:r,rowData:a,columnDefs:n,defaultColDef:o,quickFilterText:h,pagination:!0,paginationPageSize:20,paginationPageSizeSelector:[10,20,50,100],onGridReady:p,animateRows:!0,rowSelection:"multiple"})})]})}e.ModuleRegistry.registerModules([e.AllCommunityModule]),a.s(["AdminBorrowGrid",()=>k],1530)}];

//# sourceMappingURL=_3a60c3bb._.js.map