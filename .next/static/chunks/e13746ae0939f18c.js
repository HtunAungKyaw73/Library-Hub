(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,10965,e=>{"use strict";var t=e.i(58138);let r=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let a=(0,t.forwardRef)(({color:e="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:n,iconNode:u,...d},c)=>(0,t.createElement)("svg",{ref:c,...l,width:a,height:a,stroke:e,strokeWidth:s?24*Number(i)/Number(a):i,className:r("lucide",o),...d},[...u.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(n)?n:[n]])),i=(e,l)=>{let i=(0,t.forwardRef)(({className:i,...s},o)=>(0,t.createElement)(a,{ref:o,iconNode:l,className:r(`lucide-${e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,i),...s}));return i.displayName=`${e}`,i};e.s(["default",()=>i],10965)},43774,e=>{"use strict";var t=e.i(44783);let r=t.useDispatch,l=t.useSelector;t.useStore,e.s(["useAppDispatch",0,r,"useAppSelector",0,l])},22870,e=>{"use strict";var t=e.i(29511),r=e.i(58138),l=e.i(43653),a=e.i(52973),i=e.i(67881);let s=(0,e.i(10965).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var o=e.i(10641),n=e.i(9433),u=e.i(43774);function d({books:e}){let a=(0,u.useAppDispatch)();(0,r.useEffect)(()=>{e.length>0&&a(n.baserowApi.util.upsertQueryData("getBooks",void 0,e))},[a,e]);let{data:d}=(0,n.useGetBooksQuery)(void 0,{refetchOnMountOrArgChange:!1}),c=d||e,m=(0,r.useRef)(null),[h,f]=(0,r.useState)(""),g=(0,r.useMemo)(()=>[{field:"title",headerName:"Title",flex:2,minWidth:200,filter:"agTextColumnFilter",sortable:!0,cellClass:"font-medium text-foreground"},{field:"author_name",headerName:"Author",flex:1.5,minWidth:150,filter:"agTextColumnFilter",sortable:!0,valueGetter:e=>e.data?.author_name||"Unknown"},{field:"published_year",headerName:"Year",width:100,filter:"agNumberColumnFilter",sortable:!0,valueFormatter:e=>e.value||"N/A"},{field:"publisher_name",headerName:"Publisher",flex:1.5,minWidth:150,filter:"agTextColumnFilter",sortable:!0,valueFormatter:e=>e.value||"N/A"},{field:"place_of_publication",headerName:"Place",width:140,filter:"agTextColumnFilter",sortable:!0,valueFormatter:e=>e.value||"N/A"},{field:"class_number",headerName:"Class #",width:120,filter:"agTextColumnFilter",sortable:!0,valueFormatter:e=>e.value||"N/A"},{headerName:"Actions",width:100,sortable:!1,filter:!1,cellRenderer:e=>{let r=e.data?.id;return(0,t.jsx)("div",{className:"flex items-center gap-2 h-full",children:(0,t.jsx)(o.default,{href:`/books/${r}`,children:(0,t.jsxs)(i.Button,{variant:"ghost",size:"sm",className:"h-8 px-2",children:[(0,t.jsx)(s,{className:"h-4 w-4 mr-1"}),"View"]})})})},pinned:"right"}],[]),p=(0,r.useMemo)(()=>({resizable:!0,filterParams:{buttons:["reset","apply"]}}),[]),b=(0,r.useCallback)(e=>{e.api.sizeColumnsToFit()},[]),x=(0,r.useCallback)(e=>{f(e.target.value)},[]),v=(0,r.useCallback)(()=>{m.current?.api.exportDataAsCsv({fileName:"library-books.csv"})},[]);return(0,t.jsxs)("div",{className:"mt-8 space-y-4",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)("input",{type:"text",placeholder:"Quick search all columns...",value:h,onChange:x,className:"h-9 px-3 rounded-md border border-input bg-background text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 w-64"})}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(i.Button,{variant:"outline",size:"sm",onClick:v,children:"Export CSV"}),(0,t.jsxs)("span",{className:"text-sm text-muted-foreground",children:[c.length," ",1===c.length?"book":"books"]})]})]}),(0,t.jsx)("div",{className:"ag-theme-custom rounded-lg border border-border overflow-hidden",style:{height:600,width:"100%"},children:(0,t.jsx)(l.AgGridReact,{ref:m,rowData:c,columnDefs:g,defaultColDef:p,onGridReady:b,quickFilterText:h,pagination:!0,paginationPageSize:20,paginationPageSizeSelector:[10,20,50,100],animateRows:!0,rowSelection:"multiple",domLayout:"normal",enableCellTextSelection:!0,rowHeight:48,headerHeight:48})})]})}a.ModuleRegistry.registerModules([a.AllCommunityModule]),e.s(["BookAgGrid",()=>d],22870)}]);