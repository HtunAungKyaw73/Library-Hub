(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,10965,e=>{"use strict";var r=e.i(58138);let t=(...e)=>e.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim();var a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,r.forwardRef)(({color:e="currentColor",size:l=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:n="",children:d,iconNode:s,...u},m)=>(0,r.createElement)("svg",{ref:m,...a,width:l,height:l,stroke:e,strokeWidth:o?24*Number(i)/Number(l):i,className:t("lucide",n),...u},[...s.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(d)?d:[d]])),i=(e,a)=>{let i=(0,r.forwardRef)(({className:i,...o},n)=>(0,r.createElement)(l,{ref:n,iconNode:a,className:t(`lucide-${e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,i),...o}));return i.displayName=`${e}`,i};e.s(["default",()=>i],10965)},23750,e=>{"use strict";var r=e.i(29511),t=e.i(47163);function a({className:e,type:a,...l}){return(0,r.jsx)("input",{type:a,"data-slot":"input",className:(0,t.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...l})}e.s(["Input",()=>a])},6296,e=>{"use strict";var r=e.i(29511),t=e.i(58138),a=e.i(43653),l=e.i(52973),i=e.i(23750),o=e.i(67881),n=e.i(10965);let d=(0,n.default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),s=(0,n.default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);function u({borrowedBooks:e}){let[n,u]=(0,t.useState)(""),[m,c]=(0,t.useState)(null),f=(0,t.useMemo)(()=>[{headerName:"User",field:"user_profile",valueGetter:e=>{let r=e.data?.user_profile;return r?.full_name||r?.email||"Unknown"},filter:"agTextColumnFilter",flex:1.5,minWidth:150},{headerName:"Email",field:"user_profile.email",valueGetter:e=>e.data?.user_profile?.email||"N/A",filter:"agTextColumnFilter",flex:1.5,minWidth:180},{headerName:"Book Title",field:"book.title",valueGetter:e=>e.data?.book?.title||"Unknown",filter:"agTextColumnFilter",flex:2,minWidth:200},{headerName:"Author",field:"book.author",valueGetter:e=>e.data?.book?.author?.name||"Unknown",filter:"agTextColumnFilter",flex:1.5,minWidth:150},{headerName:"Genre",field:"book.genre",valueGetter:e=>e.data?.book?.genre||"N/A",filter:"agTextColumnFilter",flex:1,minWidth:100},{headerName:"Status",field:"status",filter:"agTextColumnFilter",flex:1,minWidth:100,cellRenderer:e=>{if("borrowed"===e.value){let r=new Date(e.data?.due_date)<new Date;return`<span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${r?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-200"}">${r?"Overdue":"Borrowed"}</span>`}return'<span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-200">Returned</span>'}},{headerName:"Borrowed Date",field:"borrowed_at",filter:"agDateColumnFilter",flex:1,minWidth:120,valueFormatter:e=>e.value?new Date(e.value).toLocaleDateString():"N/A",sort:"desc"},{headerName:"Due Date",field:"due_date",filter:"agDateColumnFilter",flex:1,minWidth:120,valueFormatter:e=>e.value?new Date(e.value).toLocaleDateString():"N/A"},{headerName:"Returned Date",field:"returned_at",filter:"agDateColumnFilter",flex:1,minWidth:120,valueFormatter:e=>e.value?new Date(e.value).toLocaleDateString():"-"}],[]),x=(0,t.useMemo)(()=>({sortable:!0,resizable:!0}),[]),g=(0,t.useCallback)(e=>{c(e.api)},[]),h=(0,t.useCallback)(()=>{m&&m.exportDataAsCsv({fileName:`borrow-records-${new Date().toISOString().split("T")[0]}.csv`})},[m]),p=l.themeQuartz.withParams({backgroundColor:"var(--card)",foregroundColor:"var(--card-foreground)",headerBackgroundColor:"var(--muted)",headerTextColor:"var(--muted-foreground)",oddRowBackgroundColor:"var(--card)",rowHoverColor:"var(--accent)",borderColor:"var(--border)",fontFamily:"var(--font-sans)",headerFontWeight:600,rowBorder:!0,wrapperBorder:!0,wrapperBorderRadius:"0.5rem"});return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[(0,r.jsxs)("div",{className:"relative w-full sm:w-80",children:[(0,r.jsx)(d,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,r.jsx)(i.Input,{placeholder:"Search records...",value:n,onChange:e=>u(e.target.value),className:"pl-9"})]}),(0,r.jsxs)(o.Button,{variant:"outline",size:"sm",onClick:h,children:[(0,r.jsx)(s,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]}),(0,r.jsx)("div",{className:"h-[600px] w-full",children:(0,r.jsx)(a.AgGridReact,{theme:p,rowData:e,columnDefs:f,defaultColDef:x,quickFilterText:n,pagination:!0,paginationPageSize:20,paginationPageSizeSelector:[10,20,50,100],onGridReady:g,animateRows:!0,rowSelection:"multiple"})})]})}l.ModuleRegistry.registerModules([l.AllCommunityModule]),e.s(["AdminBorrowGrid",()=>u],6296)}]);