(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,9502,e=>{"use strict";var t=e.i(2856);let a="772570",r="772601",s="772607";async function o(e,t={}){let a=`https://api.baserow.io${e}`,r=await fetch(a,{...t,headers:{Authorization:"Token 4z2b3p6kYWxiDbSdAcKGkb1iQzSo7G5z","Content-Type":"application/json",...t.headers}});if(!r.ok){let e=await r.text();throw Error(`Baserow API error: ${r.status} - ${e}`)}return r.json()}async function n(){return(await o(`/api/database/rows/table/${a}/?user_field_names=true&size=200`,{next:{revalidate:60,tags:["books"]}})).results.map(t.mapBaserowBookToBook)}async function i(e){try{let r=await o(`/api/database/rows/table/${a}/${e}/?user_field_names=true`);return(0,t.mapBaserowBookToBook)(r)}catch{return null}}async function u(){return(await o("/api/database/rows/table/772588/?user_field_names=true")).results}async function l(e){try{return(await o(`/api/database/rows/table/${r}/?user_field_names=true&filter__email__equal=${encodeURIComponent(e)}`)).results[0]||null}catch{return null}}async function c(e){try{return await o(`/api/database/rows/table/${r}/${e}/?user_field_names=true`)}catch{return null}}async function d(e){try{return(await o(`/api/database/rows/table/${s}/?user_field_names=true&filter__User__link_row_has=${e}`)).results.map(t.mapBaserowBorrowedBook)}catch{return[]}}async function w(e){try{return await o(`/api/database/rows/table/${s}/?user_field_names=true`,{method:"POST",body:JSON.stringify({Book:[parseInt(e.bookId)],User:[parseInt(e.userId)],Borrowed_At:new Date().toISOString(),Due_Date:e.dueDate,Status:"borrowed"})})}catch{return null}}async function b(e,t){try{return await o(`/api/database/rows/table/${s}/${e}/?user_field_names=true`,{method:"PATCH",body:JSON.stringify(t)})}catch{return null}}async function _(e,t){try{return await o(`/api/database/rows/table/${a}/${e}/?user_field_names=true`,{method:"PATCH",body:JSON.stringify({Available_Copies:t})})}catch{return null}}async function p(e){try{return await o(`/api/database/rows/table/${r}/?user_field_names=true`,{method:"POST",body:JSON.stringify({email:e.email,password:e.password,username:e.fullName||null,is_admin:!1})})}catch{return null}}e.s(["createBorrowRecord",()=>w,"createUser",()=>p,"getAuthors",()=>u,"getBook",()=>i,"getBooks",()=>n,"getBorrowedBooks",()=>d,"getUserByEmail",()=>l,"getUserById",()=>c,"updateBookCopies",()=>_,"updateBorrowRecord",()=>b])}]);